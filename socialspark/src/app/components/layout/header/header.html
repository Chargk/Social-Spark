<mat-toolbar color="primary" class="spark-header" style="background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%) !important; box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3) !important;">
  <div class="header-content">
    <!-- Logo -->
    <div class="logo">
      <span class="logo-icon">ðŸ”¥</span>
      <span class="logo-text">SocialSpark</span>
    </div>
    
    <!-- Search Bar -->
    <div class="search-container">
      <form (submit)="onSearchSubmit($event)" class="search-form">
        <div class="custom-search-wrapper" 
             [class.expanded]="isSearchExpanded"
             title="Search posts, people, groups..."
             (click)="expandSearch()">
          <input type="text" 
                 placeholder="Search posts, people, groups..." 
                 (focus)="expandSearch()" 
                 (blur)="collapseSearch()"
                 (input)="onSearchInput($event)"
                 (keydown.enter)="onSearchSubmit($event)"
                 [(ngModel)]="searchQuery"
                 name="searchQuery"
                 class="custom-search-input">
          <button type="submit" class="custom-search-icon-btn">
            <mat-icon class="custom-search-icon">search</mat-icon>
          </button>
        </div>
      </form>
      
      <!-- Search Suggestions Dropdown -->
      <div class="search-suggestions" *ngIf="showSuggestions && searchQuery.trim()">
        <div class="suggestion-item" *ngFor="let suggestion of searchSuggestions" 
             (click)="selectSuggestion(suggestion)">
          <mat-icon class="suggestion-icon">{{ suggestion.icon }}</mat-icon>
          <span class="suggestion-text">{{ suggestion.text }}</span>
          <span class="suggestion-type">{{ suggestion.type }}</span>
        </div>
        <div class="suggestion-item suggestion-footer" *ngIf="searchSuggestions.length === 0">
          <mat-icon class="suggestion-icon">search_off</mat-icon>
          <span class="suggestion-text">No results found</span>
        </div>
      </div>
    </div>
    
    <!-- Navigation Icons -->
    <div class="nav-icons">
      <button mat-icon-button>
        <mat-icon>home</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>explore</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>notifications</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>message</mat-icon>
      </button>
    </div>
    
    <!-- User Menu -->
    <div class="user-menu">
      <button mat-icon-button [matMenuTriggerFor]="userMenu">
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #userMenu="matMenu" class="profile-dropdown-menu">
        <button mat-menu-item class="menu-item-profile" (click)="navigateToProfile()">
          <mat-icon>person</mat-icon>
          <span>Profile</span>
        </button>
        <button mat-menu-item class="menu-item-settings">
          <mat-icon>settings</mat-icon>
          <span>Settings</span>
        </button>
        <mat-divider class="menu-divider"></mat-divider>
        <button mat-menu-item class="menu-item-logout" (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </div>
  </div>
</mat-toolbar>
